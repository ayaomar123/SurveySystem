<div *ngIf="show" class="fixed inset-0 z-50 flex items-center justify-center
            bg-black/30 backdrop-blur-sm">

  <div class="bg-white w-full max-w-md rounded-xl shadow-lg p-6">

    <h2 class="text-xl font-semibold mb-4">Change Status</h2>

    <form [formGroup]="form" class="space-y-4">

      <div>
        <label class="block mb-1 font-medium">Status</label>
        <select formControlName="status" (change)="onStatusChange()"
         class="w-full border p-2 rounded border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-400">
          <option value="0">Draft</option>
          <option value="1">Active</option>
          <option value="2">Closed</option>
          <option value="3">Archived</option>
        </select>
      </div>

      <div *ngIf="form.value.status === '1'" class="space-y-3">

        <div>
          <label class="block mb-1 font-medium">Start Date</label>
          <input type="date" formControlName="startDate" class="w-full border p-2 rounded border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-400">
          <span *ngIf="form.get('startDate')?.invalid && form.get('startDate')?.touched"
            class="text-red-600 text-xs">Start Date is required.</span>
        </div>

        <div>
          <label class="block mb-1 font-medium">End Date</label>
          <input type="date" formControlName="endDate" class="w-full border p-2 rounded border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-400">
          <span *ngIf="form.get('endDate')?.invalid && form.get('endDate')?.touched" class="text-red-600 text-xs">End
            Date is required.</span>
        </div>

      </div>

      <!-- Buttons -->
      <div class="flex justify-between pt-4">
        <button type="button" class="px-4 py-2 bg-gray-200 rounded" (click)="closeModal()">Cancel</button>
        <button type="button" class="px-4 py-2 bg-indigo-600 text-white rounded" [disabled]="form.invalid"
          (click)="saveChanges()">
          Save
        </button>
      </div>

    </form>
  </div>
</div>
